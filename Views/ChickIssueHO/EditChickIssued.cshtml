@model XenERP.Models.ModelView.ChickIssuedHOModelView

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript" src="~/Scripts/JqueryValidation.js"></script>

<script src="../../js/plugins/datetimepicker/bootstrap-datepicker.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#dp3").datepicker({ autoclose: true, todayHighlight: true });
    });

    $(document).on('click', '.add-component-deletebotton', function () {

        var id = $(this).closest('td').parent()[0].sectionRowIndex;

        document.getElementById("dataTable").deleteRow(id);
    });

</script>




@using (Html.BeginForm("EditChickIssued", "ChickIssueHO"))
{

    <aside class="right-side">

        <section class="content-header">
            <h1>Chick<small>Edit</small> </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i>Home</a></li>
                <li><a href="#">Forms</a></li>
                <li class="active"> Farm Edit</li>
            </ol>
        </section>

        <div class="nav-tabs-custom">
            <ul class="nav nav-tabs">
                <li class="pull-right"><input name="" type="submit" value="Submit" class="btn btn-primary"> </li>

            </ul>
        </div>

        <!-- Main content -->
        @*<section class="content">
            <div class="row">
                <div class="col-md-6">
                    <div class="box box-primary">
                        <div class="box-header">
                        </div>
                        <div class="box-body">*@

        @if (ViewBag.Message != null)
        {
            <div class="alert alert-success alert-dismissable">
                <i class="fa fa-check"></i>
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                @ViewBag.Message
            </div>
        }

        @if (ViewBag.Error != null)
        {
            <div class="alert alert-danger alert-dismissable">
                <i class="fa fa-ban"></i>
                <button class="close" aria-hidden="true" data-dismiss="alert" type="button"></button>
                <b>Error!</b>
                @ViewBag.Error
            </div>
        }



        @Html.HiddenFor(d => d.Id)             
          @Html.HiddenFor(d => d.UserId)
           @Html.HiddenFor(d => d.CompanyId)
           @Html.HiddenFor(d => d.BranchId)

        <div class="col-md-12">
            <div class="col-md-6">
                <div class="box box-primary">
                    <div class="box-header">  </div>
                    <div class="box-body">


                        <div class="form-group">
                            <label class="black_txt_010"> Unit Code:<span style="color:Red;">*</span> </label>

                            

                            @Html.DropDownListFor(model => model.UnitId, new SelectList(ViewBag.UnitName, "Id", "Name", @Model.UnitId), new { @class = "form-control" })
                            @*@Html.TextBoxFor(model => model.UnitCode, new { @class = "form-control", @placeholder = "Enter Farm Name", @maxlength = "100", @readonly = "readonly" })*@
                            @Html.HiddenFor(model => model.UnitId)
                        </div>

                        <div class="form-group">
                            <label class="black_txt_010">Date Of Despatch:<span style="color:Red;">*</span></label>
                            <div class="input-group date" id="dp3" data-date-format="@Session["DateFormatLower"]">@Html.TextBoxFor(model => model.DateOfDespatchString, new { @class = "form-control", @readonly = "" })  <span class="input-group-addon" style=" width:auto !important"><i class="glyphicon glyphicon-calendar"></i></span> </div>
                            @Html.ValidationMessageFor(model => model.DateOfDespatchString)
                        </div>
                        @*<div class="form-group">
                            <label class="black_txt_010"> Hatchery Code :<span style="color:Red;">*</span> </label>
                            @Html.TextBoxFor(model => model.HatcheryCode, new { @class = "form-control", @placeholder = "Enter Farm Name", @maxlength = "100" })
                            @Html.ValidationMessageFor(model => model.HatcheryCode)
                        </div>*@

                        <div class="form-group">
                            <label class="black_txt_010"> Hatchery Name :<span style="color:Red;">*</span> </label>
                            @Html.TextBoxFor(model => model.HatcheryName, new { @class = "form-control", @placeholder = "Enter Farm Name", @maxlength = "100" })
                            @Html.ValidationMessageFor(model => model.HatcheryName)
                        </div>

                        <div class="form-group">
                            <label class="black_txt_010"> Challan No :<span style="color:Red;">*</span> </label>
                            @Html.TextBoxFor(model => model.ChallanNo, new { @class = "form-control", @placeholder = "Enter Challan No", @maxlength = "100" })
                            @Html.ValidationMessageFor(model => model.ChallanNo)
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="box box-primary">
                    <div class="box-header">  </div>
                    <div class="box-body">


                        <div class="form-group">
                            <label class="black_txt_010">Purchase Challan No:<span style="color:Red;"></span> </label>
                            @Html.HiddenFor(model => model.PurchaseChallanNo, new { @class = "form-control", @placeholder = "Enter Farmer Address", @maxlength = "100", @readonly = "readonly" })
                            @Html.TextBoxFor(model => model.PurchaseChallanString, new { @class = "form-control", @placeholder = "Enter Farmer Address", @maxlength = "100", @readonly = "readonly" })
                            @Html.ValidationMessageFor(model => model.PurchaseChallanNo)
                        </div>




                        @*<div class="form-group">
                            <label class="black_txt_010">Available Chicks:<span style="color:Red;"></span> </label>
                            @Html.TextBoxFor(model => model.AvailableChicks, new { @class = "form-control", @placeholder = "Enter Farmer Address", @maxlength = "100" ,@readonly = "readonly"})
                            @Html.ValidationMessageFor(model => model.AvailableChicks)
                        </div>*@


                        @*<div class="form-group">
                            <label class="black_txt_010"> Chicks placed:<span style="color:Red;"></span> </label>
                            @Html.TextBoxFor(model => model.ChicksPlaced_HO_, new { @class = "form-control", @placeholder = "Enter Farmer Address", @maxlength = "100" })
                            @Html.ValidationMessageFor(model => model.ChicksPlaced_HO_)
                        </div>*@
                        <div class="form-group">
                            <label class="black_txt_010"> Rate Per Chick(Rs):<span style="color:Red;"></span> </label>
                            @Html.TextBoxFor(model => model.RatePerChick, new { @class = "form-control", @placeholder = "Enter Farmer Address", @maxlength = "100" })
                            @Html.ValidationMessageFor(model => model.RatePerChick)
                        </div>
                        <div class="form-group">
                            <label class="black_txt_010"> Chicks Weight:<span style="color:Red;"></span> </label>
                            @Html.TextBoxFor(model => model.ChicksWeight, new { @class = "form-control", @placeholder = "Enter Farmer Address", @maxlength = "100" })
                            @Html.ValidationMessageFor(model => model.ChicksWeight)
                        </div>



                        <div class="form-group">
                            <label class="black_txt_010"> Quality Of Chicken  :<span style="color:Red;">*</span> </label>
                            @Html.DropDownList("QualityofChicken", ViewData["QualityList"] as SelectList, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.QualityofChicken)

                        </div>




                        @Html.HiddenFor(model => model.Status)

                        @* <div class="form-group">
                            <label class="black_txt_010"> Status :<span style="color:Red;">*</span> </label>
                            @Html.CheckBoxFor(model => model.Status, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Status)

                        </div>*@

                    </div>
                </div>
            </div>
            </div>

        <div class="col-md-12">
            <div class="form-group">
                <h3>Chick Details</h3>
            </div>
            <div class="form-group">
                <div class="table-responsive">
                    <table class="my-table-style table" id="dataTable">
                        <tr class="my-table-header">

                            <td class="my-table-header" style="text-align:center;">
                                <label class="black_txt_010">Chick Category</label>
                            </td>


                            <td class="my-table-header" style="text-align:center;">
                                <label class="black_txt_010">Available Chicks</label>
                            </td>

                            <td class="my-table-header" style="text-align:center;">
                                <label class="black_txt_010">Issued Chicks</label>
                            </td>

                            <td class="my-table-header" style="text-align:center;">
                                <label class="black_txt_010">Price</label>
                            </td>

                            <td style="text-align: center;">
                                <label class="black_txt_010">Action</label>
                            </td>

                        </tr>

                        @{ int H = 0;

                        }

                        @for (int i = 0; i < Model.chicksdetailslist.Count(); i++)
                        {

                            H = H + i;


                            <tr>

                                <td style="text-align:center;">
                                    @Html.Hidden("IdToHoldInEdit", i, new { @Name = "IdToHoldInEdit" + i, @class = "IdToHoldInEdit" })

                                    @Html.DropDownListFor(model => Model.chicksdetailslist[i].ChicksId, new SelectList(ViewBag.ChickName, "Id", "Name", Model.chicksdetailslist[i].ChicksId), new { @class = "form-control ChickName", @placeholder = "Enter Farm Unit Name", @maxlength = "100", @id = "ChickName" + i, @Name = "ChickName" + i })

                                </td>                         


                                <td style="text-align:center;">
                                    @Html.TextBoxFor(model => Model.chicksdetailslist[i].AvailableChicks, new { @class = "form-control AvailableChicks", @id = "AvailableChicks" + i, @Name = "AvailableChicks" + i })
                                </td>


                                <td style="text-align:center;">
                                    @Html.TextBoxFor(model => Model.chicksdetailslist[i].IssuedChicks, new { @class = "form-control IssuedChicks", @id = "IssuedChicks" + i, @Name = "IssuedChicks" + i })
                                </td>

                                <td style="text-align:center;">
                                    @Html.TextBoxFor(model => Model.chicksdetailslist[i].Price, new { @class = "form-control Price", @id = "Price" + i, @Name = "Price" + i })
                                </td>                             


                                <td style="text-align: center;">
                                    <input type="button" id="btndelete" name="button[]" title="Delete this row" class="add-component-deletebotton" />
                                </td>

                            </tr>
                         }

                    </table>


                    @Html.Hidden("IdToHold", H)
                </div>
                <input type="button" class="add-component-botton" id="btnAdd" onclick="addRow('dataTable')" />
            </div>




        </div>

</aside>
}